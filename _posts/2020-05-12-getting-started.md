---
layout: blog
title:  "PeerCastStation説明書"
date:   2020-05-11 00:00:00 +0900
categories: blog
tags:   使い方
---
このソフトは、Peercast改造版を改良したソフトです。ですので、多数な機能追加やIPv6などの機能が追加されていたり、最適なリレーを見つけて繋げたりします。IM版でも構いませんが、FLV配信が多数になってきた今、乗り換えてみてみるのもいいかもしれません。

<!--more-->

ただし、古いVP版などを使っている人がリレーの下についた時は蹴りましょう！

バグが発生した場合は、[https://github.com/kumaryu/peercaststation/issues](https://github.com/kumaryu/peercaststation/issues)に問題提起してください。また、このような機能が欲しい場合もここに記載してください。

あれくま氏が書いているコードを修正したい・追加したい方、頭が少しおかしい方はGitHubに参加して、ソースいじったらpull requestを送ってください。

最近多いのがバージョンアップしない人が多くなっています。古いバージョンのままだとバグが残っていたり、新しい機能が追加されていなかったりと多数の不具合が多発して、バッファの原因にもなってきたりします。新しいバージョンが出てきたら、すぐとは言わないので１～２週間以内にバージョンアップしてください。ご協力の程、宜しくお願いいたします。

この説明書を書いている人も頭が少しおかしな人なので、ヘルプを書いています。全部を理解していないので、あれくま氏に突っ込みがきそうですが、簡単な物はあっていると思います。

基本的な使い方
=====================

初期画面です。

![初期画面](/assets/2020-05-12-getting-started/image1.png)

視聴している時は、このように表示されます。青で隠しているのは、配信者名とIPアドレスなので、隠しています。画面は、詳しくは後々で説明します。

視聴設定
=====================

![設定メニュー](/assets/2020-05-12-getting-started/image2.png)

_ツール→設定_{:.underline} をクリックしてください。

ポート及び帯域設定
-----------------------------

![](/assets/2020-05-12-getting-started/image3.png)

PeerCastを見るためのポートをルータの設定で開けてください。

例として、PR-500MIの開け方です。

_詳細設定→静的IPマスカレード設定_{:.underline} をクリックしてください

![](/assets/2020-05-12-getting-started/image4.png)

対象インターフェースを選択は、必ず使うプロバイダのセクションしてください。

間違って、フレッツ網のみのセクションを選択しないように。

普通は、エントリ番号１から埋めていきます。このパソコンは192.168.1.76なので、7146ポートを使います。既に使っている7144は使えないので、7144と7145を除いたポートを指定してください。

変換対象プロトコル：TCP

変換対象ポート：Peercastの視聴するポート（基本は7144）

宛先アドレス：使っているPCのIPアドレス（DHCPで割り振れたものでもいいのですが、念をいれて固定アドレスの方が良いでしょう）

宛先ポート：Peercastの視聴するポート（基本は7144）

で、追加してください。

2.1.の図に戻って、接続待ち受けポート番号を変換対象ポートと同じにします。

そうすると、ポート開放状態のIPv4が、「解放されています」に変化します。

ぶっちゃけ、これでPeercastを見れます。ただ、設定を細かく弄らないとプロバイダからお叱りのメールがくるかもしれませんので、説明を続けていきます。

![](/assets/2020-05-12-getting-started/image5.png)

_自動設定_{:.underline} をクリックします。

![](/assets/2020-05-12-getting-started/image6.png)

この画面が出てきて、上り帯域の測定を致します。できれば、ネット環境を全て使っていない状態で押すのが好ましいでしょう。

測定が終わりましたら、自動的に帯域欄に _数字_{:.underline} が表れます。

次に _詳細設定にチェック_{:.underline} を付けます。

リレー数設定
-----------------------------

リレー数を設定しないと、初期値では無制限になっていますので、プロバイダに怒られてしまいます。そこで _接続設定_{:.underline} をクリックして最大リレー数と最大視聴数を設定します。

![](/assets/2020-05-12-getting-started/image7.png)

最大上り帯域からリレー数を何本出したいか決めます。筆者の場合、配信時と視聴時両方「2本」を出す設定にしています。帯域に合わせて0本（ADSLで遅い人）～10本（プロバイダから怒られない人）と設定していくといいでしょう。

これで、「OK」ボタンを押します。視聴する設定は以上となります。ほかにも設定がありますが、視聴するだけならこれだけで十分です。

YP一覧を取得するのには、pcypLiteやPeCaRecorderなどを利用しましょう。

間違っている箇所があれば、修正していきます。報告は、

[https://github.com/kumaryu/peercaststation/issues](https://github.com/kumaryu/peercaststation/issues)

の「視聴用PeerCastStation説明書」に残してください。
